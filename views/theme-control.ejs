<!-- yet-another-css-bug‚Ñ¢ -->
<button class="theme-button-bottom" onclick="toggleTheme()">‚òÄÔ∏è</button>

<script>
const changingButtonBottom = document.querySelector(".theme-button-bottom");
const changingButtonTop = document.querySelector(".theme-button-top");
const logoImg = document.getElementById("logo-img");

function toggleTheme() {
    if (changingButtonBottom.innerHTML === "üåô") {
        applyDarkTheme();
    } else {
        applyLightTheme();
    }
}

function applyDarkTheme() {
    console.log("Changing to dark");
    document.body.classList.remove("light");
    document.body.classList.add("dark");
    changingButtonBottom.innerHTML = "‚òÄÔ∏è";
    logoImg.src = "/images/logo-dark.png";
    if (changingButtonTop) {
        changingButtonTop.innerHTML = "‚òÄÔ∏è";
    }
    localStorage.setItem("themeSwitch", "dark");
}

function applyLightTheme() {
    console.log("Changing to light");
    document.body.classList.remove("dark");
    document.body.classList.add("light");
    changingButtonBottom.innerHTML = "üåô";
    logoImg.src = "/images/logo.png";
    if (changingButtonTop) {
        changingButtonTop.innerHTML = "üåô";
    }
    localStorage.setItem("themeSwitch", "light");
}

document.addEventListener("DOMContentLoaded", function() {
    if (window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches) {
        if (localStorage.getItem("themeSwitch") !== "light") {
            applyDarkTheme();
        }
    } else if (localStorage.getItem("themeSwitch") === "dark") {
        applyDarkTheme();
    }

    else {
        applyDarkTheme();
    }
});

</script>
